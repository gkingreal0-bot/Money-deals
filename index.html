<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Money Tracker PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --glass: rgba(255,255,255,.08);
  --border: rgba(255,255,255,.15);
  --blur: blur(18px);
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(160deg,#050505,#0b1220,#020617);
  color:#e5e7eb;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  padding:20px;
}
h1{font-size:26px;margin-bottom:20px;font-weight:600}
.card{
  background:var(--glass);
  backdrop-filter:var(--blur);
  border:1px solid var(--border);
  border-radius:18px;
  padding:18px;
  margin-bottom:22px;
}
#summary p{margin:4px 0;font-size:14px;color:#cbd5f5}
.chart{
  display:flex;justify-content:space-between;align-items:flex-end;
  height:300px;gap:14px;
}
.bar{
  flex:1;border-radius:14px;display:flex;
  justify-content:center;align-items:flex-start;
  padding-top:8px;transition:height .8s ease;
}
.money{font-size:13px;font-weight:600}
.income{background:linear-gradient(180deg,#22c55e,#16a34a)}
.pocket{background:linear-gradient(180deg,#facc15,#eab308)}
.savings{background:linear-gradient(180deg,#38bdf8,#2563eb)}
.expense{background:linear-gradient(180deg,#f87171,#dc2626)}
.liability{background:linear-gradient(180deg,#fb923c,#ea580c)}
form{display:grid;grid-template-columns:1fr 1fr;gap:10px}
form select,form input{
  background:rgba(0,0,0,.4);
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px;
  color:#fff;
}
form button{
  grid-column:1/3;
  background:linear-gradient(90deg,#38bdf8,#6366f1);
  border:none;padding:12px;border-radius:14px;
  color:#fff;font-weight:600;cursor:pointer;
}
table{width:100%;border-collapse:collapse;font-size:14px}
th,td{padding:10px;text-align:left}
th{color:#93c5fd;border-bottom:1px solid var(--border)}
tr:not(:last-child) td{border-bottom:1px solid rgba(255,255,255,.05)}
</style>
</head>

<body>

<h1>ðŸ’¼ Money Tracker</h1>

<div class="card" id="summary"></div>

<div class="card">
  <div class="chart">
    <div class="bar income"><div class="money" id="incomeL">â‚¹0</div></div>
    <div class="bar pocket"><div class="money" id="pocketL">â‚¹0</div></div>
    <div class="bar savings"><div class="money" id="savingsL">â‚¹0</div></div>
    <div class="bar expense"><div class="money" id="expenseL">â‚¹0</div></div>
    <div class="bar liability"><div class="money" id="liabilityL">â‚¹0</div></div>
  </div>
</div>

<div class="card">
<h3>Add Transaction</h3>
<form id="form">
  <input type="number" id="amount" placeholder="Amount" required>
  <input type="text" id="note" placeholder="Note">

  <select id="type">
    <option value="income">Add Income</option>
    <option value="incomeToSavings">Income â†’ Savings</option>
    <option value="incomeToPocket">Income â†’ Pocket</option>
    <option value="expense">Expense</option>
    <option value="liabilityAdd">Add Liability</option>
    <option value="liabilityPay">Pay Liability</option>
  </select>

  <select id="source" style="display:none">
    <option value="income">From Income</option>
    <option value="pocket">From Pocket</option>
    <option value="savings">From Savings</option>
  </select>

  <button>Add Transaction</button>
</form>
</div>

<div class="card">
<h3>Transaction Report</h3>
<table>
<thead>
<tr><th>Date</th><th>Note</th><th>Action</th><th>Amount</th></tr>
</thead>
<tbody id="log"></tbody>
</table>
</div>

<script>
/* ðŸ”¥ LOAD SAVED DATA */
const balances = JSON.parse(localStorage.getItem("balances")) || {
  income:0,pocket:0,savings:0,expense:0,liability:0
};
const logs = JSON.parse(localStorage.getItem("logs")) || [];
const prev = {...balances};

function animate(el,s,e){
  const d=700,t0=performance.now();
  function f(t){
    const p=Math.min((t-t0)/d,1);
    el.textContent='â‚¹'+Math.floor(s+(e-s)*p);
    if(p<1)requestAnimationFrame(f);
  }
  requestAnimationFrame(f);
}

function update(){
  summary.innerHTML=Object.entries(balances)
    .map(([k,v])=>`<p>${k.toUpperCase()}: â‚¹${v}</p>`).join('');

  const max=Math.max(...Object.values(balances),1);

  for(const k in balances){
    document.querySelector('.'+k).style.height=(balances[k]/max*100)+'%';
    animate(document.getElementById(k+'L'),prev[k],balances[k]);
    prev[k]=balances[k];
  }

  log.innerHTML=logs.map(l=>`
    <tr><td>${l.date}</td><td>${l.note}</td>
    <td>${l.type}</td><td>â‚¹${l.amount}</td></tr>
  `).join('');

  /* ðŸ’¾ SAVE DATA */
  localStorage.setItem("balances", JSON.stringify(balances));
  localStorage.setItem("logs", JSON.stringify(logs));
}

type.onchange=()=>source.style.display=
(type.value==='expense'||type.value==='liabilityPay')?'block':'none';

form.onsubmit=e=>{
  e.preventDefault();
  const a=+amount.value,t=type.value,s=source.value;
  const n=note.value||t,d=new Date().toLocaleDateString();

  if(t==='income')balances.income+=a;
  else if(t==='incomeToSavings'&&balances.income>=a){balances.income-=a;balances.savings+=a;}
  else if(t==='incomeToPocket'&&balances.income>=a){balances.income-=a;balances.pocket+=a;}
  else if(t==='expense'&&balances[s]>=a){balances[s]-=a;balances.expense+=a;}
  else if(t==='liabilityAdd')balances.liability+=a;
  else if(t==='liabilityPay'&&balances[s]>=a){balances[s]-=a;balances.liability-=a;}

  logs.unshift({date:d,note:n,type:t,amount:a});
  form.reset(); source.style.display='none';
  update();
};

update();
</script>

</body>
</html>